<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="Content-Language" content="en-us" />
  <meta http-equiv="imagetoolbar" content="false" />
  <meta name="MSSmartTagsPreventParsing" content="true" />
  <title>RPC Wallet overview and configuration | Forknote</title>
  <link rel="alternate" type="application/atom+xml" title="API Changes" href="/blog.atom" />
  <link href="/css/reset.css" rel="stylesheet" type="text/css" />
  <link href="/css/documentation.css" media="screen" rel="stylesheet" type="text/css">
  <link href="/css/pygments.css" media="screen" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  <script src="/js/jquery.js" type="text/javascript"></script>
  <script src="/js/documentation.js" type="text/javascript"></script>
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-883823-25', 'auto');
    ga('require', 'linkid');
    ga('send', 'pageview');

  </script>
</head>


<body class="api developers">
  <div id="header-wrapper">
  <div id="header">
    <div>
      <a class="logo" href="/">Forknote</a>
      <ul class="nav">
        <li><a href="/download/" class="nav-download">Download</a></li>
        <li><a href="/create/" class="nav-create">Create</a></li>
        <li><a href="/documentation/" class="nav-developers">Documents</a></li>
        <li><a href="/blog/" class="nav-blog">Blog</a></li>
        <li><a href="/contact/" class="nav-contact">Support</a></li>
        <li id="search-container">
          <input type="text" id="searchfield" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" /><label class="search-placeholder">Search</label>
          <div class="cancel-search"></div>
          <ul id="search-results">

          </ul>
        </li>
      </ul>
    </div>
  </div><!-- #header -->
</div><!-- #header-wrapper -->


  <div class="sub-nav docs-documentation">
    <h2><a href="/documentation/">Documentation</a></h2>

    <ul>
      <li><a href="/documentation/" class="subnav-documentation">Documentation</a></li>
      <li><a href="/guides/" class="subnav-guides">Guides</a></li>
    </ul>
  </div>

  <div id="wrapper">
    <div class="content">
      
<h1 id="rpc-wallet-overview-and-configuration">RPC Wallet overview and configuration</h1>

<ul id="markdown-toc">
  <li><a href="#configure-forknote-rpc-wallet" id="markdown-toc-configure-forknote-rpc-wallet">Configure Forknote RPC Wallet</a></li>
  <li><a href="#example-of-a-config-file" id="markdown-toc-example-of-a-config-file">Example of a config file</a></li>
  <li><a href="#generate-a-new-wallet" id="markdown-toc-generate-a-new-wallet">Generate a new wallet</a></li>
  <li><a href="#start-forknote-rpc-wallet" id="markdown-toc-start-forknote-rpc-wallet">Start Forknote RPC Wallet</a></li>
  <li><a href="#run-forknote-rpc-wallet" id="markdown-toc-run-forknote-rpc-wallet">Run Forknote RPC Wallet</a></li>
  <li><a href="#forknote-rpc-wallet-json-rpc-api" id="markdown-toc-forknote-rpc-wallet-json-rpc-api">Forknote RPC Wallet JSON RPC API</a></li>
</ul>

<p>This wiki section describes Forknote integration process into your service with Forknote e-commerce solution called Forknote RPC Wallet. Forknote RPC Wallet is a HTTP server which provides JSON 2.0 RPC interface for Forknote payment operations and address management. Forknote RPC Wallet allows you to accept incoming payments, generate an address for each user via <a href="/documentation/rpc-wallet/json-rpc-api/">Forknote RPC Wallet JSON RPC API</a> and much more. <a href="/documentation/rpc-wallet/json-rpc-api/">Forknote RPC Wallet JSON RPC API</a> page contains detailed description of every method.</p>

<h2 id="configure-forknote-rpc-wallet">Configure Forknote RPC Wallet</h2>

<p>To configure RPC wallet you can use both command line and config file. Config file allows you to configure your settings only once and use “–config” option further. The command below launches Forknote RPC Wallet with a specific config file:</p>

<pre><code> $ ./walletd --config /home/Downloads/myconfig.conf
</code></pre>

<p>To get help on available options run:</p>

<pre><code> $ ./walletd -h
</code></pre>

<p>Please note, Forknote RPC Wallet config file may consist only of these options:</p>

<table>
  <thead>
    <tr>
      <th>Option</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>bind-address</td>
      <td>Which address to bind Forknote RPC Wallet to. Default value is 0.0.0.0</td>
    </tr>
    <tr>
      <td>bind-port</td>
      <td>Which port to bind Forknote RPC Wallet to. Default value is 8070</td>
    </tr>
    <tr>
      <td>daemon-address</td>
      <td>Forknote daemon (forknoted) address for remote daemon connection infrastructure</td>
    </tr>
    <tr>
      <td>daemon-port</td>
      <td>Forknote daemon (forknoted) port for remote daemon connection infrastructure. Default Forknote daemon ports are 8080 and 8081</td>
    </tr>
    <tr>
      <td>container-file</td>
      <td>Mandatory’’’. Your container’s file name</td>
    </tr>
    <tr>
      <td>container-password</td>
      <td>Mandatory. Your container’s password</td>
    </tr>
    <tr>
      <td>log-file</td>
      <td>A name of log file that you want to use for logging. Default is walletd.log</td>
    </tr>
    <tr>
      <td>server-root</td>
      <td>Working directory that you wish to use for Forknote RPC Wallet. Default is current working directory.</td>
    </tr>
    <tr>
      <td>log-level</td>
      <td>Level of logging. Default is 1.</td>
    </tr>
    <tr>
      <td>testnet</td>
      <td>Allows you to run Forknote RPC Wallet in testnet.</td>
    </tr>
    <tr>
      <td>local</td>
      <td>Option that allows you to start Forknote RPC Wallet as an in-process node</td>
    </tr>
    <tr>
      <td>p2p-bind-ip</td>
      <td>Interface for p2p network protocol</td>
    </tr>
    <tr>
      <td>p2p-bind-port</td>
      <td>Port for p2p network protocol</td>
    </tr>
    <tr>
      <td>p2p-external-port</td>
      <td>External port for p2p network protocol (if port forwarding used with NAT)</td>
    </tr>
    <tr>
      <td>add-peer</td>
      <td>Manually add peer to local peerlist</td>
    </tr>
    <tr>
      <td>add-priority-node</td>
      <td>Specify list of peers to connect to and attempt to keep the connection open</td>
    </tr>
    <tr>
      <td>add-exclusive-node</td>
      <td>Specify list of peers to connect to only. If this option is given the options add-priority-node and seed-node are ignored</td>
    </tr>
    <tr>
      <td>seed-node</td>
      <td>Connect to a node to retrieve peer addresses, and disconnect</td>
    </tr>
    <tr>
      <td>hide-my-port</td>
      <td>Do not announce yourself as peerlist candidate</td>
    </tr>
    <tr>
      <td>MAX_TRANSACTION_SIZE_LIMIT</td>
      <td>Maximum size of the transactions sent</td>
    </tr>
    <tr>
      <td>SYNC_FROM_ZERO</td>
      <td>Sync from block 0. Use for premine wallet or brainwallet</td>
    </tr>
  </tbody>
</table>

<h3 id="blockchain-options">Blockchain options</h3>

<p>See <a href="/documentation/daemon/#blockchain-options">Blockchain options</a></p>

<h2 id="example-of-a-config-file">Example of a config file</h2>

<pre class="terminal">$ cat ./fakecoin.conf 

BYTECOIN_NETWORK=10101010-1010-1010-1010-101010101010
CRYPTONOTE_DISPLAY_DECIMAL_POINT=12
CRYPTONOTE_NAME=fakecoin
CRYPTONOTE_PUBLIC_ADDRESS_BASE58_PREFIX=72
GENESIS_COINBASE_TX_HEX=010a01ff0001ffffffffffff0f029b2e4c0271c0b42e7c53291a94d1c0cbff8883f8024f5142ee494ffbbd08807121013c086a48c15fb637a96991bc6d53caf77068b5ba6eeb3c82357228c49790584a
P2P_STAT_TRUSTED_PUB_KEY=

UPGRADE_HEIGHT_V2=1
UPGRADE_HEIGHT_V3=2

p2p-bind-port=8080
rpc-bind-port=8081

seed-node=127.0.0.1:8080

container-file = mycontainer
container-password = mypassword
daemon-port = 8081
bind-port = 9090

</pre>

<p><em>Note: config file’s path is relative to current working directory, not server root.</em></p>

<p><em>Note: options “container-file” and “container-password” should ALWAYS be set (in either command line or config file mode).</em></p>

<p><em>Note: “container-file” and “log-file” options are relative to “server-root”. “server-root” default is the current working directory.</em></p>

<h2 id="generate-a-new-wallet">Generate a new wallet</h2>

<p>To start using RPC wallet you must first generate a container. Container file is the only file that stores all data required to run your service. It contains user addresses and private keys required to operate them. Make sure to backup this file regularly.</p>

<p>To generate a new wallet you should run the following command:</p>

<pre><code> $ ./walletd --config /home/Downloads/myconfig.conf --generate-container
</code></pre>

<p>where:</p>

<ul>
  <li>
<strong>&lt;mycontainer&gt;</strong> is the container file name and a path to it (relative or absolute); path is optional in this argument, specifying only a container’s name will result in new file located in the same folder as RPC Wallet</li>
  <li>
<strong>&lt;mypass&gt;</strong> is a secret password for the new wallet file. Whichever you like;</li>
  <li>
<strong>–generate-container</strong> option tells RPC wallet to generate container file and exit.</li>
</ul>

<p><em>Note: if <strong>&lt;mycontainer&gt;</strong> exists Bytecoin RPC Wallet will show you the notification and will ask you to provide a different name.</em></p>

<p>If the operation was successful you will get a corresponding message with your new Bytecoin address. At the same time Bytecoin RPC Wallet will save your container on the local disk (in the same folder where Bytecoin RPC Wallet is located) and shut down</p>

<h2 id="start-forknote-rpc-wallet">Start Forknote RPC Wallet</h2>

<p>There are two ways to start Forknote RPC Wallet:</p>

<h3 id="start-with-a-remote-connection-to-the-daemon">Start with a remote connection to the Daemon</h3>

<p>Remote connection allows you to bind your Forknote RPC Wallet to a remote Forknote daemon (forknoted). You may establish Forknote daemon on both local and remote machines and connect to. Such type of connection allows you to start Forknote RPC Wallet on a relatively slow machine while heavy loaded daemon is going to work on a separate powerful server.</p>

<ul>
  <li>For local daemons use localhost or 127.0.0.1 as an IP address.</li>
  <li>For remote daemons specify the remote daemon’s IP address.</li>
</ul>

<p>Default Forknote daemon ports are 8080 and 8081.</p>

<p>Add the following lines to your configuration file to start Forknote RPC Wallet with a remote connection:</p>

<pre><code>daemon-address=&lt;remote_ip&gt;
daemon-port=8080
</code></pre>

<p><em>Note: Forknote daemon (forknoted) should be running at the moment RPC wallet is starting in a remote connection mode.</em></p>

<p><em>Note: Forknote RPC Wallet will still provide some functionality even if Daemon server fails. For example, you will be able to generate addresses for your users.</em></p>

<h3 id="start-as-in-process-node">Start as in-process node</h3>

<p>You can also start Forknote RPC Wallet with an in-process node. This allows you to start RPC Wallet out-of-box with no external daemon required. You will get a fully functional node for Forknote network inside Forknote RPC Wallet. You don’t have to download or install anything besides Forknote RPC Wallet. This approach will help reduce the overheads required for infrastructure maintenance.</p>

<p>Use the following command to start Forknote RPC Wallet with an in-process node</p>

<pre><code> $ ./walletd --config /home/Downloads/myconfig.conf --local
</code></pre>

<h2 id="run-forknote-rpc-wallet">Run Forknote RPC Wallet</h2>

<p>Forknote RPC wallet can be started in both daemon and console modes.</p>

<ul>
  <li>
    <p><strong>Daemon mode</strong> - Forknote RPC Wallet is launched in the background, while you can continue to work with a console window.</p>
  </li>
  <li>
    <p><strong>Console mode</strong> - Forknote RPC Wallet is launched and prints log messages on the screen.</p>
  </li>
</ul>

<p>Forknote RPC wallet starts in console mode by default.</p>

<h3 id="start-as-daemon-unix-only">Start as daemon (UNIX only)</h3>

<p>To start RPC wallet as daemon just set “–daemon” (or short “-d”) option.</p>

<pre><code> ./walletd --config /home/Downloads/myconfig.conf --daemon
</code></pre>

<p><em>Note: it’s a common practice for daemons to set server root directory.</em></p>

<p>Server root is the directory where RPC Wallet stores all its files. All relative paths in RPC Wallet configuration are relative to the server root directory.</p>

<h3 id="start-as-service-windows-only">Start as service (Windows only)</h3>

<p>To run RPC wallet as a service on Windows you have to do the following:</p>

<ol>
  <li>
    <p>Create a config file and place it in the same directory as your RPC wallet’s executable resides in.</p>

    <p>A note for Windows Users: In case the server root in config file is not specified all paths should be ABSOLUTE. If you set server root you can use relative paths (relative to your server root);</p>
  </li>
  <li>
    <p>Register your Forknote RPC Wallet as a service. To do so, run the following command as an ADMINISTRATOR:</p>

    <pre><code> walletd.exe --config /home/Downloads/myconfig.conf --register-service
</code></pre>
  </li>
  <li>
    <p>After you see message about successful service registration you can run it in your Services panel.</p>
  </li>
</ol>

<h3 id="uninstall-service-windows-only">Uninstall service (Windows only)</h3>

<p>If you want to delete RPC wallet you have to unregister windows service first (if you have registered it before). Run as an ADMINISTRATOR:</p>

<pre><code> walletd.exe --config /home/Downloads/myconfig.conf --unregister-service
</code></pre>

<h2 id="forknote-rpc-wallet-json-rpc-api">Forknote RPC Wallet JSON RPC API</h2>

<p>Forknote RPC Wallet API allows you to create addresses for your users, accept and send transactions and much more.</p>

<p>Detailed description for every Forknote RPC Wallet API method can be found here: <a href="/documentation/rpc-wallet/json-rpc-api/">Forknote RPC Wallet JSON RPC API</a></p>


    </div>

    <div id="js-sidebar" class="sidebar-shell">
    
            <div class="js-toggle-list sidebar-module expandable">
        <ul>
          <li><h3><a href="/documentation/">Overview</a></h3></li>
          <li class="js-topic">
            <h3><a href="#" class="js-expand-btn collapsed arrow-btn" data-proofer-ignore></a><a href="/documentation/daemon/" title="forknote daemon configuration and commands">Daemon</a></h3>
            <ul class="js-guides">
              <li><a href="/documentation/daemon/html-rpc-api/">HTTP RPC API</a></li>
              <li><a href="/documentation/daemon/json-rpc-api/">JSON RPC API</a></li>
            </ul>
          </li>
          <li class="js-topic">
            <h3><a href="#" class="js-expand-btn collapsed arrow-btn" data-proofer-ignore></a><a href="/documentation/simplewallet/" title="forknote simplewallet configuration and commands">Simplewallet</a></h3>
            <ul class="js-guides">
              <li><a href="/documentation/simplewallet/json-rpc-api/">JSON RPC API</a></li>
            </ul>
          </li>
          <li class="js-topic">
            <h3><a href="#" class="js-expand-btn collapsed arrow-btn" data-proofer-ignore></a><a href="/documentation/rpc-wallet/">RPC Wallet</a></h3>
            <ul class="js-guides">
              <li><a href="/documentation/rpc-wallet/json-rpc-api/">JSON RPC API</a></li>
              <li><a href="/documentation/rpc-wallet/rpc-wallet-curl-examples/">curl examples</a></li>
            </ul>
          </li>

          <li class="js-topic">
            <h3><a href="#" class="js-expand-btn collapsed arrow-btn" data-proofer-ignore></a><a href="/documentation/cryptonote-generator/">Cryptonote generator</a></h3>
            <ul class="js-guides">
              <li><a href="/documentation/cryptonote-generator/extensions/">Extensions</a></li>
              <li><a href="/documentation/cryptonote-generator/forknote/">Forknote</a></li>
            </ul>
          </li>
        </ul>
      </div>

      <div class="sidebar-module notice">
        <p>This website is a <a href="https://github.com/forknote/forknote.net/tree/master" target="_blank">public GitHub repository</a>. Please help us by forking the project and adding to it.</p>
      </div>
    </div><!-- sidebar-shell -->
  </div><!-- #wrapper -->

    <div id="footer" >
    <div class="lower_footer">
      <ul class="footer-cell">
        <li><a href="https://bytecoin.org">Based on Bytecoin</a></li>
        <li><a href="https://cryptonote.org">Cryptonote technology</a></li>
      </ul>

      <span class="footer-cell">
        <a href="http://forknote.net/" class="mega-octicon forknote-small"></a>
      </span>

      <ul class="footer-cell">
        <li><a href="https://github.com/forknote/forknote">Source code</a></li>
        <li><a href="https://twitter.com/forknote_dev">Twitter</a></li>
        <li><a href="https://bitcointalk.org/index.php?topic=1079306.0">Bitcointalk</a></li>
      </ul>
    </div>

    <div class="wrapper">
      <p><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a></p>
    </div>

  </div><!-- /#footer -->

  <script src="/js/retina.js" type="text/javascript"></script>
</body>
</html>
